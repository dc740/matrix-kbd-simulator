#pragma once


#define TO_COLUMN_ROW(x, y) (((x << 4) & 0xF0) | (y & 0xF))
#define COLUMN_FROM_EVENT(event) ((event & 0xF0) >> 4)
#define ROW_FROM_EVENT(event) (event & 0xF)

const uint8_t KEYBOARD_LAYOUT_ES[] = { // code - description
0xFF,            // 0   - Invalid
0xFF,            // 1   - NUM
0xFF,            // 2   - SCROLL
TO_COLUMN_ROW(6,3),            // 3   - CAPS
0xFF,            // 4   - PRTSCR
0xFF,            // 5   - SCROLL
TO_COLUMN_ROW(6,0),            // 6   - L_SHIFT
TO_COLUMN_ROW(6,0),            // 7   - R_SHIFT
TO_COLUMN_ROW(6,1),            // 8   - L_CTRL
TO_COLUMN_ROW(6,1),            // 9   - R_CTRL
TO_COLUMN_ROW(6,4),            // 10   - L_ALT
TO_COLUMN_ROW(6,4),            // 11   - R_ALT
0xFF,            // 12   - L_GUI
0xFF,            // 13   - R_GUI
0xFF,            // 14   - MENU
0xFF,            // 15   - BREAK
0xFF,            // 16   - SYSRQ
TO_COLUMN_ROW(8,1),            // 17   - HOME
TO_COLUMN_ROW(7,4),            // 18   - END
TO_COLUMN_ROW(6,2),            // 19   - PGUP
TO_COLUMN_ROW(7,6),            // 20   - PGDN
TO_COLUMN_ROW(8,4),            // 21   - L_ARROW
TO_COLUMN_ROW(8,7),            // 22   - R_ARROW
TO_COLUMN_ROW(8,5),            // 23   - UP_ARROW
TO_COLUMN_ROW(8,6),            // 24   - DN_ARROW
TO_COLUMN_ROW(8,2),            // 25   - INSERT
TO_COLUMN_ROW(8,3),            // 26   - DELETE
TO_COLUMN_ROW(7,2),            // 27   - ESC
TO_COLUMN_ROW(7,5),            // 28   - BS
TO_COLUMN_ROW(7,3),            // 29   - TAB
TO_COLUMN_ROW(7,7),            // 30   - ENTER
TO_COLUMN_ROW(8,0),            // 31   - SPACE
TO_COLUMN_ROW(0,0),            // 32   - KP0
TO_COLUMN_ROW(0,1),            // 33   - KP1
TO_COLUMN_ROW(0,2),            // 34   - KP2
TO_COLUMN_ROW(0,3),            // 35   - KP3
TO_COLUMN_ROW(0,4),            // 36   - KP4
TO_COLUMN_ROW(0,5),            // 37   - KP5
TO_COLUMN_ROW(0,6),            // 38   - KP6
TO_COLUMN_ROW(0,7),            // 39   - KP7
TO_COLUMN_ROW(1,0),            // 40   - KP8
TO_COLUMN_ROW(1,1),            // 41   - KP9
TO_COLUMN_ROW(2,3),            // 42   - KP_DOT
TO_COLUMN_ROW(7,7),            // 43   - KP_ENTER
0xFF,            // 44   - KP_PLUS
TO_COLUMN_ROW(2,0),            // 45   - KP_MINUS
0xff,            // 46   - KP_TIMES
TO_COLUMN_ROW(1,2),            // 47   - KP_DIV (apos in spanish KB)
TO_COLUMN_ROW(0,0),            // 48   - 0
TO_COLUMN_ROW(0,1),            // 49   - 1
TO_COLUMN_ROW(0,2),            // 50   - 2
TO_COLUMN_ROW(0,3),            // 51   - 3
TO_COLUMN_ROW(0,4),            // 52   - 4
TO_COLUMN_ROW(0,5),            // 53   - 5
TO_COLUMN_ROW(0,6),            // 54   - 6
TO_COLUMN_ROW(0,7),            // 55   - 7
TO_COLUMN_ROW(1,0),            // 56   - 8
TO_COLUMN_ROW(1,1),            // 57   - 9
TO_COLUMN_ROW(2,5),            // 58   - APOS (actually tilde)
TO_COLUMN_ROW(2,2),            // 59   - COMMA
TO_COLUMN_ROW(1,2),            // 60   - MINUS
TO_COLUMN_ROW(2,3),            // 61   - DOT
TO_COLUMN_ROW(2,4),            // 62   - DIV
TO_COLUMN_ROW(1,3),            // 63   - KP_EQUAL
TO_COLUMN_ROW(1,4),            // 64   - SINGLE
TO_COLUMN_ROW(2,6),            // 65   - A
TO_COLUMN_ROW(2,7),            // 66   - B
TO_COLUMN_ROW(3,0),            // 67   - C
TO_COLUMN_ROW(3,1),            // 68   - D
TO_COLUMN_ROW(3,2),            // 69   - E
TO_COLUMN_ROW(3,3),            // 70   - F
TO_COLUMN_ROW(3,4),            // 71   - G
TO_COLUMN_ROW(3,5),            // 72   - H
TO_COLUMN_ROW(3,6),            // 73   - I
TO_COLUMN_ROW(3,7),            // 74   - J
TO_COLUMN_ROW(4,0),            // 75   - K
TO_COLUMN_ROW(4,1),            // 76   - L
TO_COLUMN_ROW(4,2),            // 77   - M
TO_COLUMN_ROW(4,3),            // 78   - N
TO_COLUMN_ROW(4,4),            // 79   - O
TO_COLUMN_ROW(4,5),            // 80   - P
TO_COLUMN_ROW(4,6),            // 81   - Q
TO_COLUMN_ROW(4,7),            // 82   - R
TO_COLUMN_ROW(5,0),            // 83   - S
TO_COLUMN_ROW(5,1),            // 84   - T
TO_COLUMN_ROW(5,2),            // 85   - U
TO_COLUMN_ROW(5,3),            // 86   - V
TO_COLUMN_ROW(5,4),            // 87   - W
TO_COLUMN_ROW(5,5),            // 88   - X
TO_COLUMN_ROW(5,6),            // 89   - Y
TO_COLUMN_ROW(5,7),            // 90   - Z
TO_COLUMN_ROW(1,7),            // 91   - SEMI (Actually Ã± in spanish keyboard)
TO_COLUMN_ROW(2,1),            // 92   - BACK (using it as semi colon)
TO_COLUMN_ROW(1,5),            // 93   - OPEN_SQ
TO_COLUMN_ROW(1,6),            // 94   - CLOSE_SQ
TO_COLUMN_ROW(1,3),            // 95   - EQUAL
TO_COLUMN_ROW(2,2),            // 96   - KP_COMMA
TO_COLUMN_ROW(6,5),            // 97   - F1
TO_COLUMN_ROW(6,6),            // 98   - F2
TO_COLUMN_ROW(6,7),            // 99   - F3
TO_COLUMN_ROW(7,0),            // 100   - F4
TO_COLUMN_ROW(7,1),            // 101   - F5
0xFF,            // 102   - F6
TO_COLUMN_ROW(6,6),            // 103   - F7
TO_COLUMN_ROW(6,7),            // 104   - F8
TO_COLUMN_ROW(7,0),            // 105   - F9
TO_COLUMN_ROW(7,1),            // 106   - F10
0xFF,            // 107   - F11
0xFF,            // 108   - F12
0xFF,            // 109   - F13
0xFF,            // 110   - F14
0xFF,            // 111   - F15
0xFF,            // 112   - F16
0xFF,            // 113   - F17
0xFF,            // 114   - F18
0xFF,            // 115   - F19
0xFF,            // 116   - F20
0xFF,            // 117   - F21
0xFF,            // 118   - F22
0xFF,            // 119   - F23
0xFF,            // 120   - F24
0xFF,            // 121   - NEXT_TR
0xFF,            // 122   - PREV_TR
0xFF,            // 123   - STOP
0xFF,            // 124   - PLAY
0xFF,            // 125   - MUTE
0xFF,            // 126   - VOL_UP
0xFF,            // 127   - VOL_DN
0xFF,            // 128   - MEDIA
0xFF,            // 129   - EMAIL
0xFF,            // 130   - CALC
0xFF,            // 131   - COMPUTER
0xFF,            // 132   - WEB_SEARCH
0xFF,            // 133   - WEB_HOME
0xFF,            // 134   - WEB_BACK
0xFF,            // 135   - WEB_FORWARD
0xFF,            // 136   - WEB_STOP
0xFF,            // 137   - WEB_REFRESH
0xFF,            // 138   - WEB_FAVOR
0xFF,            // 139   - EUROPE2
0xFF,            // 140   - POWER
0xFF,            // 141   - SLEEP
0xFF,            // 142   - Invalid
0xFF,            // 143   - Invalid
0xFF,            // 144   - WAKE
0xFF,            // 145   - INTL1
0xFF,            // 146   - INTL2
0xFF,            // 147   - INTL3
0xFF,            // 148   - INTL4
0xFF,            // 149   - INTL5
0xFF,            // 150   - LANG1
0xFF,            // 151   - LANG2
0xFF,            // 152   - LANG3
0xFF,            // 153   - LANG4
0xFF,            // 154   - Invalid
0xFF,            // 155   - Invalid
0xFF,            // 156   - Invalid
0xFF,            // 157   - Invalid
0xFF,            // 158   - Invalid
0xFF,            // 159   - Invalid
0xFF,            // 160   - LANG5
0xFF,            // 161   - Invalid
0xFF,            // 162   - Invalid
0xFF,            // 163   - Invalid
0xFF,            // 164   - Invalid
0xFF,            // 165   - Invalid
0xFF,            // 166   - Invalid
0xFF,            // 167   - Invalid
0xFF,            // 168   - Invalid
0xFF,            // 169   - Invalid
0xFF,            // 170   - Invalid
0xFF,            // 171   - Invalid
0xFF,            // 172   - Invalid
0xFF,            // 173   - Invalid
0xFF,            // 174   - Invalid
0xFF,            // 175   - Invalid
0xFF,            // 176   - Invalid
0xFF,            // 177   - Invalid
0xFF,            // 178   - Invalid
0xFF,            // 179   - Invalid
0xFF,            // 180   - Invalid
0xFF,            // 181   - Invalid
0xFF,            // 182   - Invalid
0xFF,            // 183   - Invalid
0xFF,            // 184   - Invalid
0xFF,            // 185   - Invalid
0xFF,            // 186   - Invalid
0xFF,            // 187   - Invalid
0xFF,            // 188   - Invalid
0xFF,            // 189   - Invalid
0xFF,            // 190   - Invalid
0xFF,            // 191   - Invalid
0xFF,            // 192   - Invalid
0xFF,            // 193   - Invalid
0xFF,            // 194   - Invalid
0xFF,            // 195   - Invalid
0xFF,            // 196   - Invalid
0xFF,            // 197   - Invalid
0xFF,            // 198   - Invalid
0xFF,            // 199   - Invalid
0xFF,            // 200   - Invalid
0xFF,            // 201   - Invalid
0xFF,            // 202   - Invalid
0xFF,            // 203   - Invalid
0xFF,            // 204   - Invalid
0xFF,            // 205   - Invalid
0xFF,            // 206   - Invalid
0xFF,            // 207   - Invalid
0xFF,            // 208   - Invalid
0xFF,            // 209   - Invalid
0xFF,            // 210   - Invalid
0xFF,            // 211   - Invalid
0xFF,            // 212   - Invalid
0xFF,            // 213   - Invalid
0xFF,            // 214   - Invalid
0xFF,            // 215   - Invalid
0xFF,            // 216   - Invalid
0xFF,            // 217   - Invalid
0xFF,            // 218   - Invalid
0xFF,            // 219   - Invalid
0xFF,            // 220   - Invalid
0xFF,            // 221   - Invalid
0xFF,            // 222   - Invalid
0xFF,            // 223   - Invalid
0xFF,            // 224   - Invalid
0xFF,            // 225   - Invalid
0xFF,            // 226   - Invalid
0xFF,            // 227   - Invalid
0xFF,            // 228   - Invalid
0xFF,            // 229   - Invalid
0xFF,            // 230   - Invalid
0xFF,            // 231   - Invalid
0xFF,            // 232   - Invalid
0xFF,            // 233   - Invalid
0xFF,            // 234   - Invalid
0xFF,            // 235   - Invalid
0xFF,            // 236   - Invalid
0xFF,            // 237   - Invalid
0xFF,            // 238   - Invalid
0xFF,            // 239   - Invalid
0xFF,            // 240   - Invalid
0xFF,            // 241   - Invalid
0xFF,            // 242   - Invalid
0xFF,            // 243   - Invalid
0xFF,            // 244   - Invalid
0xFF,            // 245   - Invalid
0xFF,            // 246   - Invalid
0xFF,            // 247   - Invalid
0xFF,            // 248   - Invalid
0xFF,            // 249   - Invalid
0xFF,            // 250   - Invalid
0xFF,            // 251   - Invalid
0xFF,            // 252   - Invalid
0xFF,            // 253   - Invalid
0xFF,            // 254   - Invalid
0xFF,            // 255   - Invalid
};


uint8_t translateEventToMatrix(uint16_t scanCode) {
    return KEYBOARD_LAYOUT_ES[(uint8_t) scanCode & 0xFF];
}