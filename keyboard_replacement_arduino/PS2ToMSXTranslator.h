#pragma once


#define TO_COLUMN_ROW(x, y) (((x << 4) & 0xF0) | (y & 0xF))
#define COLUMN_FROM_EVENT(event) ((event & 0xF0) >> 4)
#define ROW_FROM_EVENT(event) (event & 0xF)

uint8_t KEYBOARD_LAYOUT_ES[] = { // code - description
  0xFF,                          // 0   - not valid
  TO_COLUMN_ROW(7,0),            // 1   - F9 -> F4/F9
  0xFF,                          // 2   - not valid
  TO_COLUMN_ROW(7,1),            // 3   - F5 -> F5/F10
  TO_COLUMN_ROW(6,7),            // 4   - F3
TO_COLUMN_ROW(6,5),            // 5   - F1
TO_COLUMN_ROW(7,0),            // 6   - F2
TO_COLUMN_ROW(7,0),            // 7   - F12
TO_COLUMN_ROW(7,0),            // 8   - F13
TO_COLUMN_ROW(7,0),            // 9   - F10
TO_COLUMN_ROW(7,0),            // 10   - F8
TO_COLUMN_ROW(7,0),            // 11   - F6
TO_COLUMN_ROW(7,0),            // 12   - F4
TO_COLUMN_ROW(7,0),            // 13   - TAB
TO_COLUMN_ROW(7,0),            // 14   - SINGLE
TO_COLUMN_ROW(7,0),            // 15   - KP_EQUAL
TO_COLUMN_ROW(7,0),            // 16   - WEB_SEARCH
TO_COLUMN_ROW(7,0),            // 17   - ALT
TO_COLUMN_ROW(7,0),            // 18   - IGNORE
TO_COLUMN_ROW(7,0),            // 19   - INTL2
TO_COLUMN_ROW(7,0),            // 20   - CTRL
TO_COLUMN_ROW(7,0),            // 21   - PREV_TR
TO_COLUMN_ROW(7,0),            // 22   - 1
0xFF,            // 23   - Invalid
TO_COLUMN_ROW(7,0),            // 24   - WEB_FAVOR
0xFF,            // 25   - Invalid
TO_COLUMN_ROW(7,0),            // 26   - Z
TO_COLUMN_ROW(7,0),            // 27   - S
TO_COLUMN_ROW(7,0),            // 28   - A
TO_COLUMN_ROW(7,0),            // 29   - W
TO_COLUMN_ROW(7,0),            // 30   - 2
TO_COLUMN_ROW(7,0),            // 31   - L_GUI
TO_COLUMN_ROW(7,0),            // 32   - WEB_REFRESH
TO_COLUMN_ROW(7,0),            // 33   - VOL_DN
TO_COLUMN_ROW(7,0),            // 34   - X
TO_COLUMN_ROW(7,0),            // 35   - MUTE
TO_COLUMN_ROW(7,0),            // 36   - E
TO_COLUMN_ROW(7,0),            // 37   - 4
TO_COLUMN_ROW(7,0),            // 38   - 3
TO_COLUMN_ROW(7,0),            // 39   - R_GUI
TO_COLUMN_ROW(7,0),            // 40   - WEB_STOP
TO_COLUMN_ROW(7,0),            // 41   - SPACE
TO_COLUMN_ROW(7,0),            // 42   - V
TO_COLUMN_ROW(7,0),            // 43   - CALC
TO_COLUMN_ROW(7,0),            // 44   - T
TO_COLUMN_ROW(7,0),            // 45   - R
TO_COLUMN_ROW(7,0),            // 46   - 5
TO_COLUMN_ROW(7,0),            // 47   - MENU
TO_COLUMN_ROW(7,0),            // 48   - WEB_FORWARD
TO_COLUMN_ROW(7,0),            // 49   - N
TO_COLUMN_ROW(7,0),            // 50   - VOL_UP
TO_COLUMN_ROW(7,0),            // 51   - H
TO_COLUMN_ROW(7,0),            // 52   - PLAY
TO_COLUMN_ROW(7,0),            // 53   - Y
TO_COLUMN_ROW(7,0),            // 54   - 6
TO_COLUMN_ROW(7,0),            // 55   - POWER
TO_COLUMN_ROW(7,0),            // 56   - WEB_BACK
0xFF,            // 57   - Invalid
TO_COLUMN_ROW(7,0),            // 58   - WEB_HOME
TO_COLUMN_ROW(7,0),            // 59   - STOP
TO_COLUMN_ROW(7,0),            // 60   - U
TO_COLUMN_ROW(7,0),            // 61   - 7
TO_COLUMN_ROW(7,0),            // 62   - 8
TO_COLUMN_ROW(7,0),            // 63   - SLEEP
TO_COLUMN_ROW(7,0),            // 64   - COMPUTER
TO_COLUMN_ROW(7,0),            // 65   - COMMA
TO_COLUMN_ROW(7,0),            // 66   - K
TO_COLUMN_ROW(7,0),            // 67   - I
TO_COLUMN_ROW(7,0),            // 68   - O
TO_COLUMN_ROW(7,0),            // 69   - 0
TO_COLUMN_ROW(7,0),            // 70   - 9
0xFF,            // 71   - Invalid
TO_COLUMN_ROW(7,0),            // 72   - EMAIL
TO_COLUMN_ROW(7,0),            // 73   - DOT
TO_COLUMN_ROW(7,0),            // 74   - KP_DIV
TO_COLUMN_ROW(7,0),            // 75   - L
TO_COLUMN_ROW(7,0),            // 76   - SEMI
TO_COLUMN_ROW(7,0),            // 77   - NEXT_TR
TO_COLUMN_ROW(7,0),            // 78   - MINUS
0xFF,            // 79   - Invalid
TO_COLUMN_ROW(7,0),            // 80   - MEDIA
TO_COLUMN_ROW(7,0),            // 81   - INTL1
TO_COLUMN_ROW(7,0),            // 82   - APOS
0xFF,            // 83   - Invalid
TO_COLUMN_ROW(7,0),            // 84   - OPEN_SQ
TO_COLUMN_ROW(7,0),            // 85   - EQUAL
0xFF,            // 86   - Invalid
TO_COLUMN_ROW(7,0),            // 87   - F23
TO_COLUMN_ROW(7,0),            // 88   - CAPS
TO_COLUMN_ROW(7,0),            // 89   - R_SHIFT
TO_COLUMN_ROW(7,0),            // 90   - KP_ENTER
TO_COLUMN_ROW(7,0),            // 91   - CLOSE_SQ
0xFF,            // 92   - Invalid
TO_COLUMN_ROW(7,0),            // 93   - BACK
TO_COLUMN_ROW(7,0),            // 94   - WAKE
TO_COLUMN_ROW(7,0),            // 95   - LANG5
0xFF,            // 96   - Invalid
TO_COLUMN_ROW(7,0),            // 97   - EUROPE2
TO_COLUMN_ROW(7,0),            // 98   - LANG4
TO_COLUMN_ROW(7,0),            // 99   - LANG3
TO_COLUMN_ROW(7,0),            // 100   - INTL4
0xFF,            // 101   - Invalid
TO_COLUMN_ROW(7,0),            // 102   - BS
TO_COLUMN_ROW(7,0),            // 103   - INTL5
0xFF,            // 104   - Invalid
TO_COLUMN_ROW(7,0),            // 105   - END
TO_COLUMN_ROW(7,0),            // 106   - INTL3
TO_COLUMN_ROW(7,0),            // 107   - L_ARROW
TO_COLUMN_ROW(7,0),            // 108   - HOME
TO_COLUMN_ROW(7,0),            // 109   - KP_COMMA
0xFF,            // 110   - Invalid
0xFF,            // 111   - Invalid
TO_COLUMN_ROW(7,0),            // 112   - INSERT
TO_COLUMN_ROW(7,0),            // 113   - DELETE
TO_COLUMN_ROW(7,0),            // 114   - DN_ARROW
TO_COLUMN_ROW(7,0),            // 115   - KP5
TO_COLUMN_ROW(7,0),            // 116   - R_ARROW
TO_COLUMN_ROW(7,0),            // 117   - UP_ARROW
TO_COLUMN_ROW(7,0),            // 118   - ESC
TO_COLUMN_ROW(7,0),            // 119   - NUM
TO_COLUMN_ROW(7,0),            // 120   - F11
TO_COLUMN_ROW(7,0),            // 121   - KP_PLUS
TO_COLUMN_ROW(7,0),            // 122   - PGDN
TO_COLUMN_ROW(7,0),            // 123   - KP_MINUS
TO_COLUMN_ROW(7,0),            // 124   - PRTSCR
TO_COLUMN_ROW(7,0),            // 125   - PGUP
TO_COLUMN_ROW(7,0),            // 126   - BREAK
0xFF,            // 127   - Invalid
0xFF,            // 128   - Invalid
0xFF,            // 129   - Invalid
0xFF,            // 130   - Invalid
TO_COLUMN_ROW(7,0),            // 131   - F7
TO_COLUMN_ROW(7,0),            // 132   - SYSRQ
0xFF,            // 133   - Invalid
0xFF,            // 134   - Invalid
0xFF,            // 135   - Invalid
0xFF,            // 136   - Invalid
0xFF,            // 137   - Invalid
0xFF,            // 138   - Invalid
0xFF,            // 139   - Invalid
0xFF,            // 140   - Invalid
0xFF,            // 141   - Invalid
0xFF,            // 142   - Invalid
0xFF,            // 143   - Invalid
0xFF,            // 144   - Invalid
0xFF,            // 145   - Invalid
0xFF,            // 146   - Invalid
0xFF,            // 147   - Invalid
0xFF,            // 148   - Invalid
0xFF,            // 149   - Invalid
0xFF,            // 150   - Invalid
0xFF,            // 151   - Invalid
0xFF,            // 152   - Invalid
0xFF,            // 153   - Invalid
0xFF,            // 154   - Invalid
0xFF,            // 155   - Invalid
0xFF,            // 156   - Invalid
0xFF,            // 157   - Invalid
0xFF,            // 158   - Invalid
0xFF,            // 159   - Invalid
0xFF,            // 160   - Invalid
0xFF,            // 161   - Invalid
0xFF,            // 162   - Invalid
0xFF,            // 163   - Invalid
0xFF,            // 164   - Invalid
0xFF,            // 165   - Invalid
0xFF,            // 166   - Invalid
0xFF,            // 167   - Invalid
0xFF,            // 168   - Invalid
0xFF,            // 169   - Invalid
TO_COLUMN_ROW(7,0),            // 170   - BAT
0xFF,            // 171   - Invalid
0xFF,            // 172   - Invalid
0xFF,            // 173   - Invalid
0xFF,            // 174   - Invalid
0xFF,            // 175   - Invalid
0xFF,            // 176   - Invalid
0xFF,            // 177   - Invalid
0xFF,            // 178   - Invalid
0xFF,            // 179   - Invalid
0xFF,            // 180   - Invalid
0xFF,            // 181   - Invalid
0xFF,            // 182   - Invalid
0xFF,            // 183   - Invalid
0xFF,            // 184   - Invalid
0xFF,            // 185   - Invalid
0xFF,            // 186   - Invalid
0xFF,            // 187   - Invalid
0xFF,            // 188   - Invalid
0xFF,            // 189   - Invalid
0xFF,            // 190   - Invalid
0xFF,            // 191   - Invalid
0xFF,            // 192   - Invalid
0xFF,            // 193   - Invalid
0xFF,            // 194   - Invalid
0xFF,            // 195   - Invalid
0xFF,            // 196   - Invalid
0xFF,            // 197   - Invalid
0xFF,            // 198   - Invalid
0xFF,            // 199   - Invalid
0xFF,            // 200   - Invalid
0xFF,            // 201   - Invalid
0xFF,            // 202   - Invalid
0xFF,            // 203   - Invalid
0xFF,            // 204   - Invalid
0xFF,            // 205   - Invalid
0xFF,            // 206   - Invalid
0xFF,            // 207   - Invalid
0xFF,            // 208   - Invalid
0xFF,            // 209   - Invalid
0xFF,            // 210   - Invalid
0xFF,            // 211   - Invalid
0xFF,            // 212   - Invalid
0xFF,            // 213   - Invalid
0xFF,            // 214   - Invalid
0xFF,            // 215   - Invalid
0xFF,            // 216   - Invalid
0xFF,            // 217   - Invalid
0xFF,            // 218   - Invalid
0xFF,            // 219   - Invalid
0xFF,            // 220   - Invalid
0xFF,            // 221   - Invalid
0xFF,            // 222   - Invalid
0xFF,            // 223   - Invalid
TO_COLUMN_ROW(7,0),            // 224   - EXTEND
TO_COLUMN_ROW(7,0),            // 225   - EXTEND1
0xFF,            // 226   - Invalid
0xFF,            // 227   - Invalid
0xFF,            // 228   - Invalid
0xFF,            // 229   - Invalid
0xFF,            // 230   - Invalid
0xFF,            // 231   - Invalid
0xFF,            // 232   - Invalid
0xFF,            // 233   - Invalid
0xFF,            // 234   - Invalid
0xFF,            // 235   - Invalid
0xFF,            // 236   - Invalid
TO_COLUMN_ROW(7,0),            // 237   - LOCK
TO_COLUMN_ROW(7,0),            // 238   - ECHO
0xFF,            // 239   - Invalid
TO_COLUMN_ROW(7,0),            // 240   - SCANCODE
TO_COLUMN_ROW(7,0),            // 241   - LANG2
TO_COLUMN_ROW(7,0),            // 242   - READID
TO_COLUMN_ROW(7,0),            // 243   - RATE
TO_COLUMN_ROW(7,0),            // 244   - ENABLE
TO_COLUMN_ROW(7,0),            // 245   - DISABLE
TO_COLUMN_ROW(7,0),            // 246   - DEFAULTS
0xFF,            // 247   - Invalid
0xFF,            // 248   - Invalid
0xFF,            // 249   - Invalid
TO_COLUMN_ROW(7,0),            // 250   - ACK
0xFF,            // 251   - Invalid
TO_COLUMN_ROW(7,0),            // 252   - MAKEBREAK
0xFF,            // 253   - Invalid
TO_COLUMN_ROW(7,0),            // 254   - RESEND
TO_COLUMN_ROW(7,0),            // 255   - RESET
};


uint8_t translateEventToMatrix(uint16_t scanCode) {
    return KEYBOARD_LAYOUT_ES[(uint8_t) scanCode & 0xFF];
}